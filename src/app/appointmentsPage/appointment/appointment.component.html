<div class="table_content" *ngIf="appointment && patient">
  <div class="content_info">
    <div class="content_item date">
      <div class="first_date">{{appointment.date | date : 'dd MMM, yyyy'}}</div>
      <div class="second_date">{{appointment.date | date : 'EE, H:mm'}}</div>
    </div>
    <div class="content_item doctor">{{appointment.doctorsName}}</div>
    <div class="content_item patient">{{patient.patientName}}</div>
    <div class="content_item status">{{getStatus()}}, {{appointment.id}}</div>
    <div class="content_item diagnosis">{{getDiagnosis()}}</div>

    <div class="content_item edit_container" (click)="toggleMenu()">
      <svg class="extend" width="35" height="30" viewBox="0 0 35 30" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.25066 16.875C10.4006 16.875 11.3329 16.0355 11.3329 15C11.3329 13.9645 10.4006 13.125 9.25066 13.125C8.10069 13.125 7.16846 13.9645 7.16846 15C7.16846 16.0355 8.10069 16.875 9.25066 16.875Z"/>
        <path d="M17.5795 16.875C18.7295 16.875 19.6617 16.0355 19.6617 15C19.6617 13.9645 18.7295 13.125 17.5795 13.125C16.4295 13.125 15.4973 13.9645 15.4973 15C15.4973 16.0355 16.4295 16.875 17.5795 16.875Z"/>
        <path d="M25.9084 16.875C27.0583 16.875 27.9906 16.0355 27.9906 15C27.9906 13.9645 27.0583 13.125 25.9084 13.125C24.7584 13.125 23.8262 13.9645 23.8262 15C23.8262 16.0355 24.7584 16.875 25.9084 16.875Z"/>
      </svg>

      <div class="extended_popup_edit" *ngIf="extendedMenu">
        <button class="extended_edit" [class.disabledExtend]="!editEnabled" (click)="toggleExtendEdit()">
          <svg height="15" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M10.3125 9.79688H1.6875C1.48008 9.79688 1.3125 9.96445 1.3125 10.1719V10.5938C1.3125 10.6453 1.35469 10.6875 1.40625 10.6875H10.5938C10.6453 10.6875 10.6875 10.6453 10.6875 10.5938V10.1719C10.6875 9.96445 10.5199 9.79688 10.3125 9.79688ZM3.01992 8.8125C3.04336 8.8125 3.0668 8.81016 3.09023 8.80664L5.06133 8.46094C5.08477 8.45625 5.10703 8.4457 5.12344 8.42813L10.091 3.46055C10.1019 3.44971 10.1105 3.43683 10.1164 3.42265C10.1223 3.40847 10.1253 3.39328 10.1253 3.37793C10.1253 3.36258 10.1223 3.34738 10.1164 3.33321C10.1105 3.31903 10.1019 3.30615 10.091 3.29531L8.14336 1.34648C8.12109 1.32422 8.0918 1.3125 8.06016 1.3125C8.02852 1.3125 7.99922 1.32422 7.97695 1.34648L3.00937 6.31406C2.9918 6.33164 2.98125 6.35273 2.97656 6.37617L2.63086 8.34727C2.61946 8.41004 2.62353 8.47466 2.64273 8.53551C2.66192 8.59635 2.69566 8.65161 2.74102 8.69648C2.81836 8.77148 2.91563 8.8125 3.01992 8.8125Z"/>
          </svg>
          Edit fields</button>
        <button class="extended_done" [class.disabledExtend]="!doneEnabled" [disabled]="!doneEnabled"
        (click)="setDone()">
          <svg height="12" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.09352 7.32902L1.00831 5.24153C0.953785 5.18628 0.888845 5.14241 0.817256 5.11247C0.745668 5.08253 0.668855 5.06712 0.59127 5.06712C0.513685 5.06712 0.436872 5.08253 0.365283 5.11247C0.293695 5.14241 0.228755 5.18628 0.174228 5.24153C0.119036 5.29612 0.0752154 5.36113 0.0453078 5.4328C0.0154002 5.50446 0 5.58136 0 5.65903C0 5.7367 0.0154002 5.8136 0.0453078 5.88526C0.0752154 5.95693 0.119036 6.02194 0.174228 6.07653L2.67052 8.57555C2.90287 8.80815 3.27821 8.80815 3.51056 8.57555L9.82577 2.25941C9.88096 2.20483 9.92478 2.13981 9.95469 2.06815C9.9846 1.99648 10 1.91958 10 1.84191C10 1.76425 9.9846 1.68735 9.95469 1.61568C9.92478 1.54402 9.88096 1.479 9.82577 1.42442C9.77124 1.36917 9.7063 1.3253 9.63472 1.29536C9.56313 1.26542 9.48631 1.25 9.40873 1.25C9.33115 1.25 9.25433 1.26542 9.18274 1.29536C9.11115 1.3253 9.04621 1.36917 8.99169 1.42442L3.09352 7.32902Z"/>
          </svg>

          Set as done
        </button>
        <button class="extended_undo" [class.disabledExtend]="!undoEnabled" [disabled]="!doneEnabled"
                (click)="undoDone()">
          <svg height="12" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0.579241 0.000628121H1.83557V1.60685C2.51479 1.07385 3.33589 0.752591 4.19647 0.683148C5.05705 0.613705 5.91904 0.799146 6.67493 1.21635C7.43082 1.63355 8.04717 2.26404 8.4471 3.02921C8.84704 3.79437 9.01287 4.66034 8.92391 5.51913C8.83495 6.37791 8.49514 7.19151 7.94686 7.85845C7.39858 8.52539 6.66608 9.01617 5.84073 9.26958C5.01537 9.52298 4.13368 9.5278 3.3056 9.28343C2.47752 9.03907 1.73971 8.55633 1.18417 7.89543L2.20117 7.15105C2.60438 7.60511 3.13058 7.93256 3.71606 8.09373C4.30153 8.25491 4.92117 8.2429 5.49997 8.05918C6.07876 7.87545 6.59188 7.52787 6.97721 7.05853C7.36253 6.58919 7.60354 6.01821 7.67105 5.41472C7.73856 4.81123 7.62967 4.20111 7.35758 3.65822C7.08548 3.11534 6.66185 2.66297 6.13796 2.3559C5.61407 2.04882 5.01239 1.90019 4.40577 1.92802C3.79916 1.95584 3.21361 2.15892 2.72003 2.51267H4.34761V3.769H0.578613V0L0.579241 0.000628121Z"/>
          </svg>
          Undo done
        </button>
        <button class="extended_remove" (click)="toggleConfirm()">
          <svg height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M16 1.75V3H21.25C21.4489 3 21.6397 3.07902 21.7803 3.21967C21.921 3.36032 22 3.55109 22 3.75C22 3.94891 21.921 4.13968 21.7803 4.28033C21.6397 4.42098 21.4489 4.5 21.25 4.5H2.75C2.55109 4.5 2.36032 4.42098 2.21967 4.28033C2.07902 4.13968 2 3.94891 2 3.75C2 3.55109 2.07902 3.36032 2.21967 3.21967C2.36032 3.07902 2.55109 3 2.75 3H8V1.75C8 0.784 8.784 0 9.75 0H14.25C15.216 0 16 0.784 16 1.75ZM9.5 1.75C9.5 1.6837 9.52634 1.62011 9.57322 1.57322C9.62011 1.52634 9.6837 1.5 9.75 1.5H14.25C14.3163 1.5 14.3799 1.52634 14.4268 1.57322C14.4737 1.62011 14.5 1.6837 14.5 1.75V3H9.5V1.75Z"/>
            <path d="M4.99696 6.17797C4.98841 6.07923 4.96037 5.98317 4.91447 5.89533C4.86858 5.80749 4.80572 5.72962 4.72955 5.66622C4.65337 5.60282 4.56538 5.55514 4.47067 5.52595C4.37596 5.49676 4.2764 5.48663 4.17775 5.49614C4.0791 5.50566 3.98332 5.53463 3.89593 5.58138C3.80854 5.62814 3.73129 5.69175 3.66864 5.76854C3.60598 5.84534 3.55917 5.93378 3.5309 6.02878C3.50264 6.12377 3.49348 6.22342 3.50396 6.32197L4.91596 20.92C4.95819 21.3527 5.15997 21.7541 5.48199 22.0462C5.80401 22.3383 6.22321 22.5 6.65796 22.5H17.342C17.7769 22.5 18.1962 22.3381 18.5182 22.0458C18.8403 21.7536 19.042 21.3518 19.084 20.919L20.497 6.32197C20.5161 6.12386 20.4557 5.92627 20.3291 5.77268C20.2025 5.61908 20.0201 5.52207 19.822 5.50297C19.6238 5.48388 19.4263 5.54427 19.2727 5.67085C19.1191 5.79744 19.0221 5.97986 19.003 6.17797L17.591 20.774C17.585 20.8359 17.5562 20.8933 17.5101 20.9351C17.4641 20.9769 17.4041 21 17.342 21H6.65796C6.59578 21 6.53582 20.9769 6.48978 20.9351C6.44375 20.8933 6.41493 20.8359 6.40896 20.774L4.99696 6.17797Z"/>
            <path d="M9.20609 7.50106C9.30446 7.49524 9.40301 7.50887 9.49611 7.54115C9.58921 7.57344 9.67503 7.62376 9.74868 7.68923C9.82232 7.75471 9.88234 7.83405 9.92531 7.92273C9.96828 8.01141 9.99335 8.10769 9.99909 8.20606L10.4991 16.7061C10.5108 16.9048 10.443 17.1001 10.3107 17.2489C10.1784 17.3977 9.99237 17.4879 9.79359 17.4996C9.59481 17.5112 9.39953 17.4435 9.25072 17.3111C9.10191 17.1788 9.01176 16.9928 9.00009 16.7941L8.50009 8.29406C8.49427 8.19569 8.50789 8.09714 8.54018 8.00404C8.57247 7.91094 8.62279 7.82511 8.68826 7.75147C8.75373 7.67782 8.83308 7.6178 8.92176 7.57484C9.01044 7.53187 9.10671 7.5068 9.20509 7.50106H9.20609ZM15.4991 8.29406C15.5108 8.09528 15.443 7.90001 15.3107 7.7512C15.1784 7.60239 14.9924 7.51223 14.7936 7.50056C14.5948 7.48889 14.3995 7.55666 14.2507 7.68897C14.1019 7.82128 14.0118 8.00728 14.0001 8.20606L13.5001 16.7061C13.4884 16.9047 13.5561 17.0999 13.6884 17.2486C13.8206 17.3973 14.0064 17.4874 14.2051 17.4991C14.4037 17.5107 14.5989 17.443 14.7476 17.3108C14.8963 17.1786 14.9864 16.9927 14.9981 16.7941L15.4981 8.29406H15.4991Z"/>
          </svg>
          Remove visit
        </button>
      </div>

    </div>
  </div>

  <div class="content_edit" *ngIf="editPressed">
    <app-edit-appointment [appointment]="appointment" (updateClosed)="toggleExtendEdit()"
    (updatedAppointment)="updateAppointment($event)"></app-edit-appointment>
  </div>

  <div class="remove_check" *ngIf="removeActive">
    <div class="remove_bg" (click)="toggleConfirm()"></div>
    <div class="check_wrapper">
      Are you sure you want to remove this field?
      <div class="confirm_btns">
        <button (click)="removeAppointment()">Yes</button>
        <button (click)="toggleConfirm()">No</button>
      </div>
    </div>
  </div>
</div>
